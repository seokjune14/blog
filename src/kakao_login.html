<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸</title>
</head>
<body>

    <!-- ğŸ”¥ ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ë²„íŠ¼ -->
    <a href="#" onclick="kakaoLogin()">
      <img src="https://www.gb.go.kr/Main/Images/ko/member/certi_kakao_login.png" alt="ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ë²„íŠ¼"/>
    </a> 

    <!-- ğŸ”¥ ì¹´ì¹´ì˜¤ SDK ì¶”ê°€ -->
    <script src="https://developers.kakao.com/sdk/js/kakao.js"></script>
    
    <script>
      // ğŸ”¥ ì¹´ì¹´ì˜¤ ì´ˆê¸°í™” (ìë°”ìŠ¤í¬ë¦½íŠ¸ í‚¤ ì¶”ê°€)
      window.Kakao.init("eed9b2b2f6754a8f05a3225e706e7e65");
      console.log('ì¹´ì¹´ì˜¤ ì´ˆê¸°í™” ì™„ë£Œ:', window.Kakao.isInitialized());

      // ğŸ”¥ ë¡œê·¸ì¸ í•¨ìˆ˜ (í•¨ìˆ˜ëª… ìˆ˜ì • ë° ì˜¤ë¥˜ í•´ê²°)
      function kakaoLogin() {
        window.Kakao.Auth.login({
          scope: 'profile_nickname,profile_image,account_email', // âœ… scope ìˆ˜ì •
          success: function(authObj) {
            console.log('ë¡œê·¸ì¸ ì„±ê³µ:', authObj);
            window.Kakao.API.request({
              url: '/v2/user/me', // âœ… ë°°ì—´ â†’ ê°ì²´ë¡œ ë³€ê²½
              success: function(res) { // âœ… success ì˜¤íƒ€ ìˆ˜ì •
                const kakao_account = res.kakao_account;
                console.log('ì‚¬ìš©ì ì •ë³´:', kakao_account);
              },
              fail: function(error) { // ğŸ”¥ ì‚¬ìš©ì ì •ë³´ ìš”ì²­ ì‹¤íŒ¨ í•¸ë“¤ëŸ¬ ì¶”ê°€
                console.error('ì‚¬ìš©ì ì •ë³´ ìš”ì²­ ì‹¤íŒ¨:', error);
              }
            });
          },
          fail: function(error) { // ğŸ”¥ ë¡œê·¸ì¸ ì‹¤íŒ¨ í•¸ë“¤ëŸ¬ ì¶”ê°€
            console.error('ë¡œê·¸ì¸ ì‹¤íŒ¨:', error);
          }
        });
      }
    </script>

</body>
</html>